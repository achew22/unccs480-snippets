<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Project Parasol: TextureManager Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>TextureManager Class Reference</h1><!-- doxytag: class="TextureManager" --><code>#include &lt;<a class="el" href="textureManager_8h-source.html">textureManager.h</a>&gt;</code>
<p>
<div class="dynheader">
Collaboration diagram for TextureManager:</div>
<div class="dynsection">
<p><center><img src="classTextureManager__coll__graph.png" border="0" usemap="#TextureManager__coll__map" alt="Collaboration graph"></center>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="classTextureManager-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTextureManager.html#d76abb178b37cedf4514eb0154349935">TextureManager</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default constructor.  <a href="#d76abb178b37cedf4514eb0154349935"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTextureManager.html#001d6d74674961db79987e3222682576">~TextureManager</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTextureManager.html#89987ff67e4f5e0f453f1c4d2e35ca75">loadBMP</a> (std::string filename)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load a bitmap from a file.  <a href="#89987ff67e4f5e0f453f1c4d2e35ca75"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTextureManager.html#c67ab0c83deeac08e0b93ac3503e6213">unLoadBMP</a> (std::string filename)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unload a bitmap with the given filename.  <a href="#c67ab0c83deeac08e0b93ac3503e6213"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTextureManager.html#5f1bb0ff62b6a8e5d9682f65e53e884e">unLoadBMP</a> (int id)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unload a bitmap whose texture ID is given.  <a href="#5f1bb0ff62b6a8e5d9682f65e53e884e"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTextureManager.html#b9700072737b24d7dfcd7d7d6af0f6cb">cleanUp</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Call to clean up all textures.  <a href="#b9700072737b24d7dfcd7d7d6af0f6cb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classTextureManager.html">TextureManager</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTextureManager.html#d54c51d3aa7c0d1f978cdc58cc014f09">getInstance</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get an instance of the <a class="el" href="classTextureManager.html">TextureManager</a>.  <a href="#d54c51d3aa7c0d1f978cdc58cc014f09"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::map&lt; std::string, <a class="el" href="classTexture.html">Texture</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTextureManager.html#58d249d5933c8027a002d30e6f7c85b5">texMap</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Map associating file names with textures.  <a href="#58d249d5933c8027a002d30e6f7c85b5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::map&lt; int, <a class="el" href="classTexture.html">Texture</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTextureManager.html#873c835fe89a23cc9be533d99ac68a44">texNameMap</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Map associating texture IDs with textures.  <a href="#873c835fe89a23cc9be533d99ac68a44"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classTextureManager.html">TextureManager</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTextureManager.html#4f2028739d4e089845eef22ff967c3cb">pinstance</a> = NULL</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer to the instance of the <a class="el" href="classTextureManager.html">TextureManager</a>.  <a href="#4f2028739d4e089845eef22ff967c3cb"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A singleton type class to manage all texture loading. It ensures that the same texture is never loaded into memory multiple times at once. It also keeps track of how many objects are using each texture, and when the number drops to zero, it frees all of the memory used. When finished, remember to call <a class="el" href="classTextureManager.html#b9700072737b24d7dfcd7d7d6af0f6cb" title="Call to clean up all textures.">TextureManager::cleanUp()</a> to free all textures left in memory.<p>
Important: to be used succesfully, all instances should be obtained using <a class="el" href="classTextureManager.html#d54c51d3aa7c0d1f978cdc58cc014f09" title="Get an instance of the TextureManager.">getInstance()</a>, and never the constructor.<p>
Example: Suppose that you wish to load up a texture for some spaceship from the file "shipTex1.bmp". Simply use the following:<p>
int ship1ID = <a class="el" href="classTextureManager.html#d54c51d3aa7c0d1f978cdc58cc014f09" title="Get an instance of the TextureManager.">TextureManager::getInstance()</a>-&gt;loadBMP("shipTex1.bmp");<p>
Set the texture that want to use with glBindTexture(GL_TEXTURE_2D, ship1ID), and then draw the ship. If you need to make another copy of the ship, using the exact same texture, simply use the same call again.<p>
int ship2ID = <a class="el" href="classTextureManager.html#d54c51d3aa7c0d1f978cdc58cc014f09" title="Get an instance of the TextureManager.">TextureManager::getInstance()</a>-&gt;loadBMP("shipTex1.bmp");<p>
Now the texture manager will make sure that the texture is only loaded into memory once, so you don't have to worry about that. When one ship is destroyed, you should let the <a class="el" href="classTextureManager.html">TextureManager</a> know that it is no longer using the texture by calling<p>
<a class="el" href="classTextureManager.html#d54c51d3aa7c0d1f978cdc58cc014f09" title="Get an instance of the TextureManager.">TextureManager::getInstance()</a>-&gt;unLoadBMP("shipTex1.bmp");<p>
or alternately,<p>
<a class="el" href="classTextureManager.html#d54c51d3aa7c0d1f978cdc58cc014f09" title="Get an instance of the TextureManager.">TextureManager::getInstance()</a>-&gt;unLoadBMP(ship2ID);<p>
The texture will still be in memory, since ship1 is still using it. However, if the call were made a second time, with<p>
<a class="el" href="classTextureManager.html#d54c51d3aa7c0d1f978cdc58cc014f09" title="Get an instance of the TextureManager.">TextureManager::getInstance()</a>-&gt;unLoadBMP(ship1ID);<p>
(or <a class="el" href="classTextureManager.html#d54c51d3aa7c0d1f978cdc58cc014f09" title="Get an instance of the TextureManager.">TextureManager::getInstance()</a>-&gt;unLoadBMP("shipTex1.bmp");)<p>
Then <a class="el" href="classTextureManager.html">TextureManager</a> would automatically erase all traces of that texture from memory, freeing it to be used by other things. It is important that you always load and unload all textures using these methods, though, otherwise it will not free memory properly. 
<p>Definition at line <a class="el" href="textureManager_8h-source.html#l00156">156</a> of file <a class="el" href="textureManager_8h-source.html">textureManager.h</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="d76abb178b37cedf4514eb0154349935"></a><!-- doxytag: member="TextureManager::TextureManager" ref="d76abb178b37cedf4514eb0154349935" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TextureManager::TextureManager           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Default constructor. 
<p>

<p>Definition at line <a class="el" href="textureManager_8h-source.html#l00162">162</a> of file <a class="el" href="textureManager_8h-source.html">textureManager.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="001d6d74674961db79987e3222682576"></a><!-- doxytag: member="TextureManager::~TextureManager" ref="001d6d74674961db79987e3222682576" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TextureManager::~TextureManager           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
&lt; Deconstructor. 
<p>Definition at line <a class="el" href="textureManager_8h-source.html#l00163">163</a> of file <a class="el" href="textureManager_8h-source.html">textureManager.h</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00163"></a>00163                       { 
<a name="l00164"></a>00164         <a class="code" href="classTextureManager.html#b9700072737b24d7dfcd7d7d6af0f6cb" title="Call to clean up all textures.">TextureManager::cleanUp</a>();
<a name="l00165"></a>00165     }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="b9700072737b24d7dfcd7d7d6af0f6cb"></a><!-- doxytag: member="TextureManager::cleanUp" ref="b9700072737b24d7dfcd7d7d6af0f6cb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TextureManager::cleanUp           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Call to clean up all textures. 
<p>
A static function to automatically free all memory used by <a class="el" href="classTextureManager.html">TextureManager</a>. Deletes all textures from local memory and the graphics card memory. Essentially gives you a fresh, new class. 
<p>Definition at line <a class="el" href="textureManager_8cpp-source.html#l00139">139</a> of file <a class="el" href="textureManager_8cpp-source.html">textureManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00139"></a>00139                              {
<a name="l00140"></a>00140     <a class="code" href="classTextureManager.html">TextureManager</a>* instance = <a class="code" href="classTextureManager.html#4f2028739d4e089845eef22ff967c3cb" title="Pointer to the instance of the TextureManager.">pinstance</a>;
<a name="l00141"></a>00141     <span class="keywordflow">for</span> (std::map&lt;std::string, Texture*&gt;::iterator iter = instance-&gt;<a class="code" href="classTextureManager.html#58d249d5933c8027a002d30e6f7c85b5" title="Map associating file names with textures.">texMap</a>.begin(); iter != instance-&gt;<a class="code" href="classTextureManager.html#58d249d5933c8027a002d30e6f7c85b5" title="Map associating file names with textures.">texMap</a>.end(); iter++) {
<a name="l00142"></a>00142         <span class="keywordflow">if</span> (iter-&gt;second != NULL) {
<a name="l00143"></a>00143             <span class="keyword">delete</span> iter-&gt;second;
<a name="l00144"></a>00144         }
<a name="l00145"></a>00145     }
<a name="l00146"></a>00146     instance-&gt;<a class="code" href="classTextureManager.html#58d249d5933c8027a002d30e6f7c85b5" title="Map associating file names with textures.">texMap</a>.clear();
<a name="l00147"></a>00147     instance-&gt;<a class="code" href="classTextureManager.html#873c835fe89a23cc9be533d99ac68a44" title="Map associating texture IDs with textures.">texNameMap</a>.clear();
<a name="l00148"></a>00148 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d54c51d3aa7c0d1f978cdc58cc014f09"></a><!-- doxytag: member="TextureManager::getInstance" ref="d54c51d3aa7c0d1f978cdc58cc014f09" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTextureManager.html">TextureManager</a> * TextureManager::getInstance           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get an instance of the <a class="el" href="classTextureManager.html">TextureManager</a>. 
<p>
Always and only use this function in order to obtain an instance of <a class="el" href="classTextureManager.html">TextureManager</a>. Do not use the constructor, as this is a singleton class.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns a pointer to an instance of <a class="el" href="classTextureManager.html">TextureManager</a>. </dd></dl>

<p>Definition at line <a class="el" href="textureManager_8cpp-source.html#l00157">157</a> of file <a class="el" href="textureManager_8cpp-source.html">textureManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00157"></a>00157                                             {
<a name="l00158"></a>00158     <span class="keywordflow">if</span> (<a class="code" href="classTextureManager.html#4f2028739d4e089845eef22ff967c3cb" title="Pointer to the instance of the TextureManager.">TextureManager::pinstance</a> == NULL) {
<a name="l00159"></a>00159         <a class="code" href="classTextureManager.html#4f2028739d4e089845eef22ff967c3cb" title="Pointer to the instance of the TextureManager.">pinstance</a> = <span class="keyword">new</span> <a class="code" href="classTextureManager.html">TextureManager</a>;
<a name="l00160"></a>00160     }
<a name="l00161"></a>00161     <span class="keywordflow">return</span> <a class="code" href="classTextureManager.html#4f2028739d4e089845eef22ff967c3cb" title="Pointer to the instance of the TextureManager.">pinstance</a>;
<a name="l00162"></a>00162 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="89987ff67e4f5e0f453f1c4d2e35ca75"></a><!-- doxytag: member="TextureManager::loadBMP" ref="89987ff67e4f5e0f453f1c4d2e35ca75" args="(std::string filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TextureManager::loadBMP           </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>filename</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Load a bitmap from a file. 
<p>
Always and only use this function in order to obtain a valid OpenGL texture. It checks to see if the file mentioned by filename has already been loaded. If it has, it simply returns an ID handle for that texture. If not, it will create one.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>filename</em>&nbsp;</td><td>is the name of the file to load. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns an ID for a valid OpenGL texture. </dd></dl>

<p>Definition at line <a class="el" href="textureManager_8cpp-source.html#l00174">174</a> of file <a class="el" href="textureManager_8cpp-source.html">textureManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00174"></a>00174                                               {
<a name="l00175"></a>00175     std::map&lt;std::string, Texture*&gt;::iterator toFind = <a class="code" href="classTextureManager.html#58d249d5933c8027a002d30e6f7c85b5" title="Map associating file names with textures.">texMap</a>.find(filename);
<a name="l00176"></a>00176     <span class="keywordflow">if</span> (toFind != <a class="code" href="classTextureManager.html#58d249d5933c8027a002d30e6f7c85b5" title="Map associating file names with textures.">texMap</a>.end()) {
<a name="l00177"></a>00177         toFind-&gt;second-&gt;numUsers++;
<a name="l00178"></a>00178         printf(<span class="stringliteral">"Number of users increased: now %i\n"</span>, toFind-&gt;second-&gt;numUsers);
<a name="l00179"></a>00179         <span class="keywordflow">return</span> toFind-&gt;second-&gt;name;
<a name="l00180"></a>00180     } <span class="keywordflow">else</span> {
<a name="l00181"></a>00181         <a class="code" href="classTexture.html">Texture</a>* newTexture = <span class="keyword">new</span> <a class="code" href="classTexture.html">Texture</a>;
<a name="l00182"></a>00182         newTexture-&gt;<a class="code" href="classTexture.html#281d33bb070682086c85ee213cfc4bf0" title="Load a BMP file.">loadBMP</a>(filename);
<a name="l00183"></a>00183         newTexture-&gt;<a class="code" href="classTexture.html#b52c3d07453b96444dcc154c43a63c9b" title="The number of other objects currently using this texture.">numUsers</a>++;
<a name="l00184"></a>00184         newTexture-&gt;<a class="code" href="classTexture.html#f2c445415c35e9ea0a2911313cf1d57e" title="The filename that this texture was loaded from.">filename</a> = filename;
<a name="l00185"></a>00185         glGenTextures(1, &amp;(newTexture-&gt;<a class="code" href="classTexture.html#69e2ed5bd9f73dfd3722c02909a06cb3" title="The unique ID for this texture.">name</a>));
<a name="l00186"></a>00186         newTexture-&gt;<a class="code" href="classTexture.html#0cbde264bc33852731d94f377d0aa4b4" title="Register the texture with OpenGL.">setTexture</a>(newTexture-&gt;<a class="code" href="classTexture.html#69e2ed5bd9f73dfd3722c02909a06cb3" title="The unique ID for this texture.">name</a>);
<a name="l00187"></a>00187 
<a name="l00188"></a>00188         <a class="code" href="classTextureManager.html#58d249d5933c8027a002d30e6f7c85b5" title="Map associating file names with textures.">texMap</a>[filename] = newTexture;
<a name="l00189"></a>00189         <a class="code" href="classTextureManager.html#873c835fe89a23cc9be533d99ac68a44" title="Map associating texture IDs with textures.">texNameMap</a>[newTexture-&gt;<a class="code" href="classTexture.html#69e2ed5bd9f73dfd3722c02909a06cb3" title="The unique ID for this texture.">name</a>] = newTexture;
<a name="l00190"></a>00190 
<a name="l00191"></a>00191         printf(<span class="stringliteral">"Number of users set: now %i\n"</span>, newTexture-&gt;<a class="code" href="classTexture.html#b52c3d07453b96444dcc154c43a63c9b" title="The number of other objects currently using this texture.">numUsers</a>);
<a name="l00192"></a>00192         <span class="keywordflow">return</span> newTexture-&gt;<a class="code" href="classTexture.html#69e2ed5bd9f73dfd3722c02909a06cb3" title="The unique ID for this texture.">name</a>;
<a name="l00193"></a>00193     }
<a name="l00194"></a>00194 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="c67ab0c83deeac08e0b93ac3503e6213"></a><!-- doxytag: member="TextureManager::unLoadBMP" ref="c67ab0c83deeac08e0b93ac3503e6213" args="(std::string filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TextureManager::unLoadBMP           </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>filename</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Unload a bitmap with the given filename. 
<p>
This function should be used when one no longer has need for a texture. Because <a class="el" href="classTextureManager.html">TextureManager</a> keeps track of how many times a given texture has been requested, it will determine whether or not the texture is still in use, and delete/not delete it accordingly. To be effective, must be called every time a given object no longer needs the use of a texture.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>filename</em>&nbsp;</td><td>is the name of the file from which the bitmap was loaded. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="textureManager_8cpp-source.html#l00206">206</a> of file <a class="el" href="textureManager_8cpp-source.html">textureManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00206"></a>00206                                                  {
<a name="l00207"></a>00207     std::map&lt;std::string, Texture*&gt;::iterator toFind = <a class="code" href="classTextureManager.html#58d249d5933c8027a002d30e6f7c85b5" title="Map associating file names with textures.">texMap</a>.find(filename);
<a name="l00208"></a>00208     <span class="keywordflow">if</span> (toFind == <a class="code" href="classTextureManager.html#58d249d5933c8027a002d30e6f7c85b5" title="Map associating file names with textures.">texMap</a>.end()) {
<a name="l00209"></a>00209         <span class="keywordflow">return</span>;
<a name="l00210"></a>00210     } <span class="keywordflow">else</span> {
<a name="l00211"></a>00211         toFind-&gt;second-&gt;numUsers--;
<a name="l00212"></a>00212         printf(<span class="stringliteral">"Number of users decreased: now %i\n"</span>, toFind-&gt;second-&gt;numUsers);
<a name="l00213"></a>00213         <span class="keywordflow">if</span> (toFind-&gt;second-&gt;numUsers &lt;= 0) {
<a name="l00214"></a>00214             <a class="code" href="classTextureManager.html#873c835fe89a23cc9be533d99ac68a44" title="Map associating texture IDs with textures.">texNameMap</a>.erase(toFind-&gt;second-&gt;name);
<a name="l00215"></a>00215             <span class="keyword">delete</span> toFind-&gt;second;
<a name="l00216"></a>00216             <a class="code" href="classTextureManager.html#58d249d5933c8027a002d30e6f7c85b5" title="Map associating file names with textures.">texMap</a>.erase(toFind);
<a name="l00217"></a>00217             printf(<span class="stringliteral">"Texture erased\n"</span>);
<a name="l00218"></a>00218         }
<a name="l00219"></a>00219     }
<a name="l00220"></a>00220 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="5f1bb0ff62b6a8e5d9682f65e53e884e"></a><!-- doxytag: member="TextureManager::unLoadBMP" ref="5f1bb0ff62b6a8e5d9682f65e53e884e" args="(int id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TextureManager::unLoadBMP           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>id</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Unload a bitmap whose texture ID is given. 
<p>
This function should be used when one no longer has need for a texture. Because <a class="el" href="classTextureManager.html">TextureManager</a> keeps track of how many times a given texture has been requested, it will determine whether or not the texture is still in use, and delete/not delete it accordingly. To be effective, must be called every time a given object no longer needs the use of a texture.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>is the id of the texture to be freed. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="textureManager_8cpp-source.html#l00232">232</a> of file <a class="el" href="textureManager_8cpp-source.html">textureManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00232"></a>00232                                      {
<a name="l00233"></a>00233     std::map&lt;int, Texture*&gt;::iterator toFind = <a class="code" href="classTextureManager.html#873c835fe89a23cc9be533d99ac68a44" title="Map associating texture IDs with textures.">texNameMap</a>.find(<span class="keywordtype">id</span>);
<a name="l00234"></a>00234     <span class="keywordflow">if</span> (toFind == <a class="code" href="classTextureManager.html#873c835fe89a23cc9be533d99ac68a44" title="Map associating texture IDs with textures.">texNameMap</a>.end()) {
<a name="l00235"></a>00235         <span class="keywordflow">return</span>;
<a name="l00236"></a>00236     } <span class="keywordflow">else</span> {
<a name="l00237"></a>00237         toFind-&gt;second-&gt;numUsers--;
<a name="l00238"></a>00238         printf(<span class="stringliteral">"Number of users decreased: now %i\n"</span>, toFind-&gt;second-&gt;numUsers);
<a name="l00239"></a>00239         <span class="keywordflow">if</span> (toFind-&gt;second-&gt;numUsers &lt;= 0) {
<a name="l00240"></a>00240             <a class="code" href="classTextureManager.html#58d249d5933c8027a002d30e6f7c85b5" title="Map associating file names with textures.">texMap</a>.erase(toFind-&gt;second-&gt;filename);
<a name="l00241"></a>00241             <span class="keyword">delete</span> toFind-&gt;second;
<a name="l00242"></a>00242             <a class="code" href="classTextureManager.html#873c835fe89a23cc9be533d99ac68a44" title="Map associating texture IDs with textures.">texNameMap</a>.erase(toFind);
<a name="l00243"></a>00243             printf(<span class="stringliteral">"Texture erased\n"</span>);
<a name="l00244"></a>00244         }
<a name="l00245"></a>00245     }
<a name="l00246"></a>00246 }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="4f2028739d4e089845eef22ff967c3cb"></a><!-- doxytag: member="TextureManager::pinstance" ref="4f2028739d4e089845eef22ff967c3cb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTextureManager.html">TextureManager</a> * <a class="el" href="classTextureManager.html#4f2028739d4e089845eef22ff967c3cb">TextureManager::pinstance</a> = NULL<code> [static, private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pointer to the instance of the <a class="el" href="classTextureManager.html">TextureManager</a>. 
<p>

<p>Definition at line <a class="el" href="textureManager_8h-source.html#l00158">158</a> of file <a class="el" href="textureManager_8h-source.html">textureManager.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="58d249d5933c8027a002d30e6f7c85b5"></a><!-- doxytag: member="TextureManager::texMap" ref="58d249d5933c8027a002d30e6f7c85b5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, <a class="el" href="classTexture.html">Texture</a>*&gt; <a class="el" href="classTextureManager.html#58d249d5933c8027a002d30e6f7c85b5">TextureManager::texMap</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Map associating file names with textures. 
<p>

<p>Definition at line <a class="el" href="textureManager_8h-source.html#l00159">159</a> of file <a class="el" href="textureManager_8h-source.html">textureManager.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="873c835fe89a23cc9be533d99ac68a44"></a><!-- doxytag: member="TextureManager::texNameMap" ref="873c835fe89a23cc9be533d99ac68a44" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;int, <a class="el" href="classTexture.html">Texture</a>*&gt; <a class="el" href="classTextureManager.html#873c835fe89a23cc9be533d99ac68a44">TextureManager::texNameMap</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Map associating texture IDs with textures. 
<p>

<p>Definition at line <a class="el" href="textureManager_8h-source.html#l00160">160</a> of file <a class="el" href="textureManager_8h-source.html">textureManager.h</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="textureManager_8h-source.html">textureManager.h</a><li><a class="el" href="textureManager_8cpp-source.html">textureManager.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Oct 23 10:38:45 2008 for Project Parasol by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
